<div class="min-h-screen xl:min-h-full bg-[#3B364C] box-border md:my-4 lg:my-8 lg:p-6 lg:mx-4 lg:mr-10 md:rounded-2xl select-none overflow-hidden">
    <div class="hidden bg-[#2B2738] rounded-2xl w-full p-3 lg:flex gap-x-12 mb-4 items-center">
        <button [routerLink]="['/myshop']" class="bg-primary-light text-white rounded-2xl w-12 h-12 flex items-center justify-center hover:bg-[#564f6e]">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="6" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <div class="flex items-center gap-x-8">
            <span class="text-white">Catálogo</span>
            <span class="text-white text-2xl mb-0.5 font-bold"> > </span>
            <span class="text-white">Detalle del producto</span>
        </div>
    </div>

    <div class="flex-1 lg:py-6 box-border rounded-2xl flex flex-col md:grid md:grid-cols-[50%_50%] md:justify-center m-2 md:m-6 lg:m-0 xl:m-6 md:mt-4 lg:mt-2 xl:grid-cols-[35%_65%]">
        
        <!-- Mobile product state -->
        <div class="flex justify-between items-center p-1 py-3 mb-4 md:hidden">
            <div class="flex items-center gap-x-1">
                <span class="w-2 h-2 rounded-full mr-2"
                    [ngClass]="{'bg-green-500': product()?.status,'bg-yellow-500': !product()?.status}">
                </span>
                <h3 class="text-white">{{ product()?.status ? "En venta" : "Inventario" }}</h3>
            </div>
            <div class="flex gap-x-4">
                <div class="p-1 bg-primary-main rounded-2xl">
                    <img src="/icons/edit-eye.svg" alt="vista" class="w-8 h-8">
                </div>
                <div class="p-2 bg-secondary-main rounded-2xl flex items-center justify-center">
                    <img src="/icons/edit-icon.svg" alt="edicion" class="w-6 h-6">
                </div>
                <div class="p-2 bg-[#B1120D] rounded-2xl flex items-center justify-center">
                    <img src="/icons/delete-icon.svg" alt="edicion" class="w-6 h-6">
                </div>
            </div>
        </div>

        <div class="md:mr-16 md:flex flex-col items-center">
            <!-- Contenedor principal cuadrado -->
            <div class="w-full max-w-[475px] mx-auto mb-4 aspect-square overflow-hidden">
                <img 
                    [src]="!isLoading() ? product()?.thumbnails[0]?.reference : '/images/default-product.png'" 
                    alt="Miniatura de producto" 
                    class="rounded-2xl w-full h-full object-cover">
            </div>
        
            <!-- Miniaturas con aspecto cuadrado -->
            <div class="flex justify-center md:justify-normal gap-x-3 mt-4 mb-8">
                <div class="w-1/3 max-w-[105px] lg:max-w-[145px] aspect-square overflow-hidden">
                    <img 
                        [src]="!isLoading() ? product()?.thumbnails[0]?.reference : '/images/default-product.png'" 
                        alt="Miniatura de producto" 
                        class="rounded-2xl w-full h-full object-cover">
                </div>
                <div class="w-1/3 max-w-[105px] lg:max-w-[145px] aspect-square overflow-hidden"> 
                    <img 
                        [src]="!isLoading() ? product()?.thumbnails[0]?.reference : '/images/default-product.png'" 
                        alt="Miniatura de producto" 
                        class="rounded-2xl w-full h-full object-cover">
                </div>
                <div class="w-1/3 max-w-[105px] lg:max-w-[145px] aspect-square overflow-hidden">
                    <img 
                        [src]="!isLoading() ? product()?.thumbnails[0]?.reference : '/images/default-product.png'" 
                        alt="Miniatura de producto" 
                        class="rounded-2xl w-full h-full object-cover">
                </div>
            </div>
        </div>
        

        @if (isLoading()) {
            <div class="flex justify-center rounded-2xl bg-primary-main items-center h-full">
                <div class="w-16 h-16 border-4 border-t-transparent border-white rounded-full animate-spin"></div>
            </div>
        }

        @if(!isLoading()) {
            <div class="flex flex-col gap-y-6 bg-primary-main p-4 lg:p-8 rounded-2xl md:text-lg lg:min-h-[620px] text-white">

                <div class="hidden md:flex justify-between items-center p-1 mb-1 text-lg">
                    <div class="flex items-center gap-x-1">
                        <span class="w-2 h-2 rounded-full mr-2"
                            [ngClass]="{'bg-green-500': product()?.status,'bg-yellow-500': !product()?.status}">                       </span>
                        <h3>{{ product()?.status ? "En venta" : "Inventario" }}</h3>
                    </div>
                    <div class="flex gap-x-4">
                        <button class="p-1 bg-primary-light rounded-2xl">
                            <img src="/icons/edit-eye.svg" alt="vista" class="w-10 h-10">
                        </button>
                        <button class="p-2 bg-secondary-main rounded-2xl flex items-center justify-center">
                            <img src="/icons/edit-icon.svg" alt="edicion" class="w-8 h-8">
                        </button>
                        <button class="p-2 bg-[#B1120D] rounded-2xl flex items-center justify-center">
                            <img src="/icons/delete-icon.svg" alt="edicion" class="w-8 h-8">
                        </button>
                    </div>
                </div>
    
                <h2 class="font-bold mb-1 text-xl">{{ product()?.title }}</h2>
    
                <h3>Descripción</h3>
                <p class="text-base">{{ product()?.description }}
                </p>
    
                <div class="xl:flex mt-4 items-center gap-x-10 md:gap-x-4 lg:gap-x-20 w-full md:w-auto">
                    <h3 class="mb-4 xl:mb-0">Medida</h3>
                    <div class="flex gap-x-4 lg:justify-center">
                        <p class="py-3 rounded-2xl bg-primary-light min-w-12 text-center">S</p>
                        <p class="py-3 rounded-2xl bg-primary-light min-w-12 text-center">M</p>
                        <p class="py-3 rounded-2xl bg-primary-light min-w-12 text-center">L</p>
                        <p class="py-3 rounded-2xl bg-primary-light min-w-12 text-center">XL</p>
                        <p class="py-3 rounded-2xl bg-primary-light min-w-12 text-center">XXL</p>
                    </div>
                </div>
    
                <div class="xl:flex mt-3 items-center gap-x-10 md:gap-x-4 lg:gap-x-20 w-full md:w-auto">
                    <h3 class="mb-4 xl:mb-0 mr-4">Color</h3>
                    <div class="flex gap-x-4">
                        <div class="py-3 rounded-2xl bg-blue-400 min-w-12 min-h-12 text-center"></div>
                        <div class="py-3 rounded-2xl bg-orange-200 min-w-12 min-h-12 text-center"></div>
                        <div class="py-3 rounded-2xl bg-red-500 min-w-12 min-h-12 text-center"></div>
                    </div>
                </div>
    
                <div class="flex mt-3 justify-between items-center gap-x-10 md:gap-x-20 w-fit">
                    <h3 class="mr-4">Stock</h3>
                    <p>{{ product()?.stock }}</p>
                </div>
    
                <div class="flex mt-3 justify-between items-center gap-x-10 md:gap-x-20 w-fit">
                    <h3 class="mr-3">Precio</h3>
                    <p>{{ (product()?.price | currency: 'USD':'symbol':'1.0-0')?.replace('$', '$ ') }}</p>
                </div>
    
            </div>
        }
    </div>
</div>
